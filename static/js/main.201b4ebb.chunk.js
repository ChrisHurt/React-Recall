(window["webpackJsonpreact-recall"]=window["webpackJsonpreact-recall"]||[]).push([[0],{3:function(e,t){var a=Math.PI/180,n=180/Math.PI,c=[8,15,22],r=function(e){for(var t={},a=0;a<e;a++)t[a]=a;return t},o=function(e){return 360/Object.entries(e).length},s=function(e,t){return e*(1+1/Math.sin(a*(180/t)))},i=function(e,t){return 2*e*(1-1/(1+Math.sin(a*o(t)/2)))},l=function(e){return Object.entries(e).reduce((function(e,t,a){return a<c[0]?(e[0]||(e[0]={}),e[0][t[0]]=t[1]):a<c[0]+c[1]?(e[1]||(e[1]={}),e[1][t[0]]=t[1]):a<c[0]+c[1]+c[2]?(e[2]||(e[2]={}),e[2][t[0]]=t[1]):console.error("No more than 45 datapoints are supported for this component"),e}),[])},d=function(e,t){var a=l(e),n=0,o=0;return n=Object.keys(e).length>8?i(t,r(8)):i(t,e),a.map((function(e,a){0===a?o=t:o=s(n/2,c[a]);return{data:e,outerDiameter:o}}))};e.exports={seedData:r,calculateDataNeededForSecondRing:function(e,t){return Math.ceil(180/(n*Math.asin(1/(1+e/(t/2)))))},calculateSubCircleRadialDisplacement:function(e,t){return e/(Math.sin(a*o(t)/2)+1)},calculateSubCircleFullAngle:o,calculateNewOuterDiameter:s,calculateSubCircleRotationAngle:function(e,t){return Number(e*o(t))},calculateSubCircleDiameter:i,calculateNewRadialDisplacement:function(e,t){return s(e,t)-e},distributeData:l,circleTiers:d,largestDiameter:function(e,t){return d(e,t).map((function(e){return e.outerDiameter})).sort((function(e,t){return t-e}))[0]}}},34:function(e,t,a){e.exports=a(69)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),o=a.n(r),s=(a(39),a(4)),i=a(5),l=a(7),d=a(6),u=a(8),m=a(11),g=a(14),p=(a(40),a(41),a(1)),h=a.n(p),f="https://react-recall-be.herokuapp.com",v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).logout=function(e){h.a.post("".concat(f,"/logout")).then((function(){a.props.updateUserID(void 0,"")}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("nav",{style:{}},void 0!==this.props.user_id?c.a.createElement("div",{className:"navbar"},c.a.createElement(m.b,{to:"/React-Recall/data_collections/me",className:"navbar-brand"},"React. Recall."),c.a.createElement(m.b,{to:"/React-Recall/data_collections/new",className:"navbar-link"},"New Collection"),c.a.createElement(m.b,{to:"/React-Recall/data_collections/me",className:"navbar-link"},"My Collections"),c.a.createElement("button",{onClick:this.logout,className:"logout-button"},"Logout ",c.a.createElement("span",null,this.props.username))):"")}}]),t}(c.a.Component),b=(a(64),a(65),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={axiosRequestSent:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.index,n=t.tierIndex,r=t.parentDiameter,o=t.diameter,s=t.radialDisplacement,i=t.rotationAngle,l=t.transformOffset,d=t.text,u=t.image_url,m=t.top,g=t.left,p=t.transitionAllowed,h=t.allowTransitions,f=t.preventTransitions,v=t.centerTransition,b=t.removeDataByKey,E=t.backgroundSize,R=t.zIndex,C=t.incrementSuccess,y=t.incrementFailure;t.recordGuess;return c.a.createElement("div",{className:"datapoint-rotation-container",style:{position:"relative",width:"".concat(s,"px"),transform:"translate(".concat(r+l,"px,").concat(r+l,"px) rotate(").concat(i,"deg)"),transformOrigin:"left center",height:0,zIndex:0===s?4:R+1,top:m,left:g}},c.a.createElement("div",{className:"datapoint",style:{backgroundImage:"url(".concat(u,")"),backgroundSize:E,position:"relative",width:"".concat(o,"px"),height:"".concat(o,"px"),transform:"translate(".concat(s-o/2,"px,").concat(-o/2,"px) rotate(-").concat(i,"deg)"),zIndex:R,transition:"transform 0.35s ease-in, width 0.35s ease-in, height 0.35s ease-in",color:"#2C3531",fontWeight:"700",textShadow:"1px 1px #D1E8E2",textAlign:"center",fontSize:"1.5em",textWrap:"wrap"},onClick:p?function(){v(a,n),f()}:function(){}},0===s?c.a.createElement("div",{style:{width:"".concat(o,"px"),height:"".concat(o,"px")}},c.a.createElement("div",{style:{userSelect:"none"}},c.a.createElement("span",{style:{fontSize:"",backgroundColor:"rgba(255,203,154,0.65)",height:"".concat(o/3,"px"),lineHeight:"".concat(o/3,"px")}},"Remember",c.a.createElement("br",null),d.split("").slice(0,16).join("")+"?")),c.a.createElement("button",{style:{width:7*o/18,userSelect:"none",zIndex:R+1,padding:"0.25em",backgroundColor:"#FFCB9A",borderRadius:"0.5em",marginRight:"0.5em"},onClick:function(){b(e.props.id,1),h(),C()}},"I remember"),c.a.createElement("button",{style:{width:7*o/18,userSelect:"none",zIndex:R+1,padding:"0.25em",backgroundColor:"#D9B08C",borderRadius:"0.5em"},onClick:function(){b(e.props.id,0),h(),y()}},"I forgot")):""))}}]),t}(c.a.Component)),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.successes,a=e.failures;return c.a.createElement("div",{style:{paddingLeft:"1em",paddingRight:"1em",padding:"0.5em",display:"flex",justifyContent:"space-between",backgroundColor:"#2C3531",color:"#D1E8E2"}},c.a.createElement("div",null,"Correct Guesses: ",t),c.a.createElement("div",null,"Incorrect Guesses: ",a))}}]),t}(c.a.Component),R=a(3),C=a.n(R),y="https://react-recall-be.herokuapp.com",x=[8,15,22],w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).renderContainerCircle=function(e,t,n,r){return c.a.createElement("div",{style:{height:0,width:0}},c.a.createElement("div",{className:"DS-container",style:{position:"relative",width:2*e,height:2*e,backgroundColor:t,zIndex:r||"0",top:"calc(".concat(a.state.parentHeight/2).concat(a.state.parentHeightUnit," - ").concat(a.state.largestDiameter-n,"px)"),left:"calc(".concat(a.state.parentWidth/2).concat(a.state.parentWidthUnit," - ").concat(a.state.largestDiameter-n,"px)")}}))},a.recordGuess=function(e,t,n){a.state.axiosInDataPointsAllowed&&h.a.post("".concat(y,"/guess-sessions/").concat(a.state.session_id,"/").concat(t,"/add"),{user_id:a.props.user_id,remembered:e}).then((function(e){console.log(),console.log("Guess Test Underway"),console.log(e.data),console.log()}))},a.removeDataByKey=function(e,t){console.log("key: ".concat(e));var n=Object.entries(a.state.data).reduce((function(t,a,n){return a[0]!==e?t[a[0]]=a[1]:(console.log("keyValPair[0]: ".concat(a[0])),console.log("keyValPair[1]: ".concat(a[1]))),t}),{}),c=e;h.a.post("".concat(y,"/guess-sessions/").concat(a.state.session_id,"/").concat(c,"/add"),{user_id:a.props.user_id,remembered:t}).then((function(e){console.log(),console.log("Guess Test Underway"),console.log(e.data),console.log()})),a.setState({data:n,circleTiers:C.a.circleTiers(n,a.state.diameter),selectedCircleIndex:1===Object.entries(n).length?0:void 0,selectedCircleTierIndex:1===Object.entries(n).length?0:void 0,largestDiameter:C.a.largestDiameter(n,a.state.diameter),axiosInDataPointsAllowed:!0})},a.incrementSuccess=function(){a.setState({successes:a.state.successes+1})},a.incrementFailure=function(){a.setState({failures:a.state.failures+1})},a.centerTransition=function(e,t){a.setState({selectedCircleIndex:e,selectedCircleTierIndex:t})},a.allowTransitions=function(){a.setState({transitionsAllowed:!0})},a.preventTransitions=function(){a.setState({transitionsAllowed:!1})},a.renderCircleRing=function(e,t,n,r,o,s){return c.a.createElement("div",null,Object.entries(t).map((function(i,l){return c.a.createElement(b,{recordGuess:a.recordGuess,axiosInDataPointsAllowed:s,key:"dp-".concat(l),id:i[0],zIndex:1!==o?o:5,parentDiameter:e,diameter:a.state.selectedCircleIndex===l&&a.state.selectedCircleTierIndex===o?2*a.state.circleTiers[0].outerDiameter:r||C.a.calculateSubCircleDiameter(e,t),rotationAngle:C.a.calculateSubCircleRotationAngle(l,t),radialDisplacement:a.state.selectedCircleIndex===l&&a.state.selectedCircleTierIndex===o?0:C.a.calculateNewRadialDisplacement(r/2,x[o])||C.a.calculateSubCircleRadialDisplacement(e,t),text:i[1].memoryText,image_url:i[1].imageURL,transformOffset:n,top:"calc(".concat(a.state.parentHeight/2).concat(a.state.parentHeightUnit," - ").concat(a.state.largestDiameter,"px)"),left:"calc(".concat(a.state.parentWidth/2).concat(a.state.parentWidthUnit," - ").concat(a.state.largestDiameter,"px)"),transitionAllowed:a.state.transitionsAllowed,index:l,tierIndex:o,centred:a.selectedCircleIndex===l&&a.selectedCircleTierIndex===o,centerTransition:a.centerTransition,preventTransitions:a.preventTransitions,allowTransitions:a.allowTransitions,removeDataByKey:a.removeDataByKey,incrementSuccess:a.incrementSuccess,incrementFailure:a.incrementFailure,backgroundSize:"".concat(a.state.selectedCircleIndex===l&&a.state.selectedCircleTierIndex===o?2*a.state.circleTiers[0].outerDiameter:r||C.a.calculateSubCircleDiameter(e,t),"px ").concat(a.state.selectedCircleIndex===l&&a.state.selectedCircleTierIndex===o?2*a.state.circleTiers[0].outerDiameter:r||C.a.calculateSubCircleDiameter(e,t),"px,cover")})})))},a.componentDidMount=function(){var e=a.props.match.params,t=e.collection_id,n=e.session_id;h.a.post("".concat(y,"/datacollections/").concat(t,"/datapoints"),{user_id:a.props.user_id}).then((function(e){var c=e.data.dataPoints;h.a.post("".concat(y,"/guess-sessions/").concat(n,"/isvalid"),{user_id:a.props.user_id}).then((function(e){e.data.guessSessionIsValid?(console.log("valid"),h.a.post("".concat(y,"/guess-sessions/").concat(n,"/guesses"),{user_id:a.props.user_id}).then((function(e){var t=e.data.guesses.map((function(e){return e.dataPoint}));console.log(),console.log("All data points"),console.log(c),console.log(),console.log("Guessed Data Points"),console.log(t);var r=c.filter((function(e){return function(e){var a=!0;return t.forEach((function(t){e._id===t&&(console.log("Element '".concat(t,"' removed!")),a=!1)})),a}(e)})).reduce((function(e,t){return e[t._id]={imageURL:t.imageUrl,memoryText:t.memoryText},e}),{});console.log(),console.log("filteredDataObject"),console.log(r),console.log(),a.setState({data:r,circleTiers:C.a.circleTiers(r,a.props.diameter),selectedCircleIndex:1===Object.entries(r).length?0:void 0,selectedCircleTierIndex:1===Object.entries(r).length?0:void 0,largestDiameter:C.a.largestDiameter(r,a.state.diameter),session_id:n})}))):(console.log("invalid"),h.a.post("".concat(y,"/guess-sessions/").concat(t,"/add"),{user_id:a.props.user_id}).then((function(e){n=e.data.session_id,console.log("New Session Added");var t=c.reduce((function(e,t){return e[t._id]={imageURL:t.imageUrl,memoryText:t.memoryText},e}),{});console.log(),console.log("newDataObject"),console.log(t),console.log(),a.setState({data:t,circleTiers:C.a.circleTiers(t,a.props.diameter),selectedCircleIndex:1===Object.entries(t).length?0:void 0,selectedCircleTierIndex:1===Object.entries(t).length?0:void 0,largestDiameter:C.a.largestDiameter(t,a.state.diameter),session_id:n})})))}))})).catch((function(e){return console.log("Error: ".concat(e))}))},a.prepareToRedirect=function(){0!==Object.keys(a.state.data).length||a.state.redirecting||a.setState({redirecting:!0})},a.redirectOnFinish=function(){if(a.state.redirecting)return c.a.createElement(g.a,{to:"/React-Recall/data_collections/me"})},a.state={diameter:a.props.diameter,subCircleDiameter:C.a.calculateSubCircleDiameter(a.props.diameter,C.a.circleTiers(a.props.data,a.props.diameter)[0].data),data:a.props.data,circleTiers:C.a.circleTiers(a.props.data,a.props.diameter),largestDiameter:C.a.largestDiameter(a.props.data,a.props.diameter),parentWidth:a.props.parentWidth,parentHeight:a.props.parentHeight,parentWidthUnit:a.props.parentWidthUnit,parentHeightUnit:a.props.parentHeightUnit,transitionsAllowed:!0,successes:a.props.successes?a.props.successes:0,failures:a.props.failures?a.props.failures:0,session_id:void 0,axiosInDataPointsAllowed:!0,completeMessage:void 0,redirecting:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.subCircleDiameter,n=t.circleTiers,r=t.largestDiameter,o=t.successes,s=t.failures;return c.a.createElement("div",{className:"DS-offset",style:{}},this.prepareToRedirect(),this.redirectOnFinish(),n.map((function(t,n){return c.a.createElement("div",{key:"CircleTier: ".concat(n),style:{width:0,height:0}},e.renderCircleRing(t.outerDiameter,t.data,r-t.outerDiameter,Object.keys(t.data).length!==x[n]&&0!==n?a:null,n,e.state.axiosInDataPointsAllowed),e.renderContainerCircle(t.outerDiameter,"#116466",r-t.outerDiameter))})),c.a.createElement(E,{successes:o,failures:s}))}}]),t}(c.a.Component),N=(a(66),a(17)),_=a.n(N),D="https://react-recall-be.herokuapp.com",S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loginUsername:"",registerUsername:"",email:"",loginPassword:"",registerPassword:"",loginErrorMessage:null,registerErrorMessage:null},a.onChangeLoginUsername=function(e){a.setState({loginUsername:e.target.value})},a.onChangeLoginPassword=function(e){a.setState({loginPassword:e.target.value})},a.onChangeRegisterUsername=function(e){a.setState({registerUsername:e.target.value})},a.onChangeEmail=function(e){a.setState({email:e.target.value})},a.onChangeRegisterPassword=function(e){a.setState({registerPassword:e.target.value})},a.renderRedirect=function(){if(null!==a.props.user_id&&void 0!==a.props.user_id)return c.a.createElement(g.a,{to:"/React-Recall/data_collections/me"})},a.submitLogin=function(e){e.preventDefault();var t={username:a.state.loginUsername,password:a.state.loginPassword};h.a.post("".concat(D,"/login"),t).then((function(e){e.data.authenticated?a.props.updateUserID(e.data.user_id,e.data.username):a.setState({loginErrorMessage:"Login Error: ".concat(e.data.msg),registerErrorMessage:null})})).catch((function(e){return a.setState({loginErrorMessage:e})}))},a.submitRegister=function(e){e.preventDefault();var t={username:a.state.registerUsername,email:a.state.email,password:a.state.registerPassword};h.a.post("".concat(D,"/users/add"),t).then((function(e){if(e.data.success){console.log("Successful user addition, logging in...");var n={username:t.username,password:t.password};h.a.post("".concat(D,"/login"),n).then((function(e){e.data.authenticated?a.props.updateUserID(e.data.user_id,e.data.username):a.setState({loginErrorMessage:e.data.msg,registerErrorMessage:null})}))}else console.log(e.data),a.setState({registerErrorMessage:"Registration Error: ".concat(e.data.msg),loginErrorMessage:null})})).catch((function(e){a.setState({registerErrorMessage:"Invalid username, email or password",loginErrorMessage:null})}))},a.componentDidMount=function(){_()(".message a").click((function(){_()("form").animate({height:"toggle",opacity:"toggle"},"slow")}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"full-page"},this.renderRedirect(),this.state.loginErrorMessage?c.a.createElement("div",{className:"error-message"},this.state.loginErrorMessage):"",this.state.registerErrorMessage?c.a.createElement("div",{className:"error-message"},this.state.registerErrorMessage):"",c.a.createElement("div",{className:"login-page"},c.a.createElement("div",{className:"form"},c.a.createElement("form",{className:"register-form"},c.a.createElement("input",{type:"text",placeholder:"username",name:"username",onChange:this.onChangeRegisterUsername,value:this.state.registerUsername}),c.a.createElement("input",{type:"password",placeholder:"password",name:"password",onChange:this.onChangeRegisterPassword,value:this.state.registerPassword}),c.a.createElement("input",{type:"text",placeholder:"email address",name:"email",onChange:this.onChangeEmail,value:this.state.email}),c.a.createElement("button",{type:"button",onClick:this.submitRegister},"create"),c.a.createElement("p",{className:"message"},"Already registered? ",c.a.createElement("a",{href:"#"},"Sign In"))),c.a.createElement("form",{className:"login-form"},c.a.createElement("input",{type:"text",placeholder:"username",name:"username",onChange:this.onChangeLoginUsername,value:this.state.loginUsername}),c.a.createElement("input",{type:"password",placeholder:"password",name:"password",onChange:this.onChangeLoginPassword,value:this.state.loginPassword}),c.a.createElement("button",{type:"button",onClick:this.submitLogin},"login"),c.a.createElement("p",{className:"message"},"Not registered? ",c.a.createElement("a",{href:"#"},"Create an account"))))))}}]),t}(c.a.Component),k=(a(67),"https://react-recall-be.herokuapp.com"),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={collections:[],metrics:{collectionName:"",worstRecall:"",averageRecall:"",bestRecall:"",collection_id:null},redirectURL:{},loading:!0,firstLoad:!0,expandedCollection:{key:null,data:[],width:null}},a.componentDidMount=function(){h.a.post("".concat(k,"/datacollections"),{user_id:a.props.user_id}).then((function(e){a.setState({collections:e.data.filter((function(e){return 0!==e.dataPoints.length})).map((function(e,t){return{collectionName:e.collectionName,collection_id:e._id,highlighted:!1,index:t}})),loading:!1})})).catch((function(e){return console.log("".concat(e))}))},a.renderRedirectToPractice=function(){if(void 0!==a.state.redirectURL.collectionID)return c.a.createElement(g.a,{to:"/React-Recall/practice/".concat(a.state.redirectURL.collectionID,"/").concat(void 0!==a.state.redirectURL.sessionID&&null!==a.state.redirectURL.sessionID?a.state.redirectURL.sessionID:"new")})},a.beginGuessSession=function(e){h.a.post("".concat(k,"/guess-sessions/data-collection/").concat(e),{user_id:a.props.user_id}).then((function(t){var n=null;void 0!==t.data.guessSession&&!1!==t.data.guessSession&&(n=t.data.guessSession._id),a.setState({redirectURL:{collectionID:e,sessionID:n}})}))},a.updateSessionResults=function(){a.state.firstLoad&&!a.state.loading&&h.a.post("".concat(k,"/guess-sessions/recent-results"),{user_id:a.props.user_id}).then((function(e){var t=e.data.correct,n=e.data.incorrect,c=e.data.collectionName;t&&n&&c?a.setState({metrics:{collectionName:c,bestRecall:"",averageRecall:"Recently Guessed ".concat(t," of ").concat(t+n," Correctly."),worstRecall:""},firstLoad:!1}):a.setState({firstLoad:!1})}))},a.getMetrics=function(e,t){console.log("collection_id"),console.log(t),console.log(),console.log("this.state.metrics.collection_id"),console.log(a.state.metrics.collection_id),console.log(),t===a.state.metrics.collection_id?a.setState({metrics:{collectionName:"",worstRecall:"",averageRecall:"",bestRecall:"",collection_id:null}}):(h.a.post("".concat(k,"/datacollections/metrics/").concat(t),{user_id:a.props.user_id}).then((function(n){a.setState({collections:a.state.collections.map((function(t){var a=!1;return t.index===e&&(a=!0),{collectionName:t.collectionName,collection_id:t.collection_id,highlighted:a,index:t.index}})),metrics:{collectionName:a.state.collections.filter((function(t){return t.index===e}))[0].collectionName,bestRecall:n.data.worstRecall.averageRecall>n.data.bestRecall.averageRecall?"":"Best Recall : ".concat(n.data.bestRecall.memoryText," ").concat(n.data.bestRecall.averageRecall,"%"),averageRecall:n.data.worstRecall.averageRecall>n.data.bestRecall.averageRecall?"No data available":"Average Recall : ".concat(n.data.averageRecall,"%"),worstRecall:n.data.worstRecall.averageRecall>n.data.bestRecall.averageRecall?"":"Worst Recall : ".concat(n.data.worstRecall.memoryText," ").concat(n.data.worstRecall.averageRecall,"%"),collection_id:t}})})).catch((function(e){return console.log("".concat(e))})),a.setState({metrics:{collectionName:"Loading...",worstRecall:"",averageRecall:"",bestRecall:"",collection_id:t}}))},a.expandCollection=function(e,t){a.state.expandedCollection.key===e?a.setState({expandedCollection:{key:null,data:[],width:null}}):h.a.post("".concat(k,"/datacollections/").concat(t,"/datapoints"),{user_id:a.props.user_id}).then((function(t){a.setState({expandedCollection:{key:e,data:t.data.dataPoints.map((function(e){return e.imageUrl})),width:document.querySelector('[index="'.concat(e,'"]')).offsetWidth}})}))},a.renderExpandedData=function(){return c.a.createElement("div",{className:a.state.expandedCollection.data.length>0?"collection-drop-down":"",style:{maxWidth:a.state.expandedCollection.width}},a.state.expandedCollection.data.map((function(e){return c.a.createElement("div",{className:"drop-down-datapoint-container"},c.a.createElement("div",{className:"drop-down-datapoint",style:{backgroundImage:"url(".concat(e,")")}}))})))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,this.renderRedirectToPractice(),this.updateSessionResults(),c.a.createElement("div",{className:"metrics-display"},c.a.createElement("div",{style:this.state.metrics.collectionName?{}:{padding:0},className:"recall recall-title"},this.state.metrics.collectionName?this.state.metrics.collectionName.toUpperCase():""),c.a.createElement("div",{style:this.state.metrics.collectionName&&this.state.metrics.averageRecall?{}:{padding:0},className:"recall"},this.state.metrics.averageRecall),c.a.createElement("div",{style:this.state.metrics.collectionName&&this.state.metrics.averageRecall?{}:{padding:0},className:"recall"},this.state.metrics.bestRecall),c.a.createElement("div",{style:this.state.metrics.collectionName&&this.state.metrics.averageRecall?{}:{padding:0},className:"recall"},this.state.metrics.worstRecall)),0!==this.state.collections.length||this.state.loading?"":c.a.createElement("div",{className:"make-collection-link-container"},c.a.createElement(m.b,{className:"make-collection-link",to:"/React-Recall/data_collections/new"}," Make a collection! ")),c.a.createElement("div",{className:"collections-wrapper"},this.state.collections.map((function(t,a){return c.a.createElement("div",{className:"vertical-flex-container",key:"collection-wrapper".concat(a)},c.a.createElement("div",{key:"collection".concat(a),index:"collection".concat(a),className:"data-collection ".concat(t.collection_id===e.state.metrics.collection_id?"highlighted-collection":"")},c.a.createElement("div",{className:"data-collection-name",onClick:function(){return e.expandCollection("collection".concat(a),t.collection_id)}},c.a.createElement("div",null,t.collectionName),c.a.createElement("i",{className:"fas fa-chevron-down"})),c.a.createElement("div",{onClick:function(){return e.getMetrics(a,t.collection_id)},className:"data-collection-metrics"},c.a.createElement("div",null,"Metrics"),c.a.createElement("i",{className:"fas fa-chart-line"})),c.a.createElement("div",{onClick:function(){return e.beginGuessSession(t.collection_id)},className:"practice"},c.a.createElement("div",null,"Practice"),c.a.createElement("i",{className:"fas fa-dumbbell"}))),e.state.expandedCollection.key==="collection".concat(a)?e.renderExpandedData():"")}))))}}]),t}(c.a.Component),T=(a(68),"https://react-recall-be.herokuapp.com"),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={collectionName:"",collectionID:"",memoryText:"",imageURL:"",diameter:100,redirecting:!1,message:""},a.addToCollection=function(){h.a.post("".concat(T,"/datacollections/").concat(a.state.collectionID,"/add"),{user_id:a.props.user_id,memoryText:a.state.memoryText,imageUrl:a.state.imageURL}).then((function(e){a.setState({memoryText:"",imageURL:"",message:"".concat(a.state.memoryText," added to ").concat(a.state.collectionName)})}))},a.prepareToSubmitCollection=function(){a.setState({redirecting:!0})},a.submitCollection=function(){if(a.state.redirecting)return c.a.createElement(g.a,{to:"/React-Recall/data_collections/me"})},a.onChangeMemoryText=function(e){a.setState({memoryText:e.target.value})},a.onChangeImageURL=function(e){a.setState({imageURL:e.target.value})},a.onChangeCollectionName=function(e){a.setState({collectionName:e.target.value})},a.collectionNameChosen=function(e){e.preventDefault(),_()("form").animate({height:"toggle",opacity:"toggle"},"slow"),h.a.post("".concat(T,"/datacollections/add"),{user_id:a.props.user_id,collectionName:a.state.collectionName}).then((function(e){a.setState({collectionID:e.data.collection_id})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"full-page"},c.a.createElement("div",{className:this.state.message?"user-feedback":""},this.state.message),c.a.createElement("div",{className:"login-page"},this.submitCollection(),c.a.createElement("div",{className:"form"},c.a.createElement("form",{className:"register-form"},c.a.createElement("h3",null,this.state.collectionName),c.a.createElement("input",{type:"text",placeholder:"Memory text",name:"memoryText",onChange:this.onChangeMemoryText,value:this.state.memoryText}),c.a.createElement("input",{type:"text",placeholder:"Image URL",name:"imageURL",onChange:this.onChangeImageURL,value:this.state.imageURL}),c.a.createElement("div",{className:"demo-container"},c.a.createElement("div",{className:"demo-datapoint",style:{backgroundImage:"url(".concat(this.state.imageURL,")")}})),c.a.createElement("button",{type:"button",onClick:this.addToCollection,style:{marginBottom:"1em"}},"Add To Collection"),c.a.createElement("button",{type:"button",onClick:this.prepareToSubmitCollection},"Submit Collection")),c.a.createElement("form",{className:"login-form"},c.a.createElement("h3",null,"New  Collection"),c.a.createElement("input",{type:"text",placeholder:"Name your collection!",name:"collectionName",onChange:this.onChangeCollectionName,value:this.state.collectionName}),c.a.createElement("button",{type:"button",onClick:this.collectionNameChosen},"Continue")))))}}]),t}(c.a.Component),j={Placeholder:""},U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={user_id:void 0,username:""},a.updateUserID=function(e,t){t||(t=""),a.setState({user_id:e,username:t})},a.renderLoginReturn=function(){if(void 0===a.state.user_id)return c.a.createElement(g.a,{to:"/React-Recall/login"})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(m.a,null,this.renderLoginReturn(),c.a.createElement("div",{className:"App",style:{backgroundColor:"#D1E8E2"}},c.a.createElement(v,{user_id:this.state.user_id,updateUserID:this.updateUserID,username:this.state.username}),c.a.createElement(g.b,{path:"/React-Recall/login",exact:!0,component:function(){return c.a.createElement(S,{user_id:e.state.user_id,updateUserID:e.updateUserID})}}),c.a.createElement(g.b,{path:"/React-Recall/data_collections/me",exact:!0,component:function(){return c.a.createElement(I,{user_id:e.state.user_id})}}),c.a.createElement(g.b,{path:"/React-Recall/data_collections/new",exact:!0,component:function(){return c.a.createElement(O,{user_id:e.state.user_id})}}),c.a.createElement(g.b,{path:"/React-Recall/practice/:collection_id/:session_id",component:function(t){var a=t.match;return c.a.createElement(w,{match:a,user_id:e.state.user_id,diameter:140,data:j,parentWidth:100,parentHeight:100,parentWidthUnit:"vw",parentHeightUnit:"vh"})}})))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.201b4ebb.chunk.js.map